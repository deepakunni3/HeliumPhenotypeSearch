{"remainingRequest":"/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/thread-loader/dist/cjs.js!/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/babel-loader/lib/index.js!/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/src/components/MonarchAssociations.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/src/components/MonarchAssociations.vue","mtime":1540450645546},{"path":"/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/cache-loader/dist/cjs.js","mtime":1539379416466},{"path":"/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/cache-loader/dist/cjs.js","mtime":1539379416466},{"path":"/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/tputman/CODE/dc_geno_pheno/dc_geno_pheno/node_modules/@babel/runtime/helpers/builtin/es6/asyncToGenerator\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as BL from '@/api/BioLink';\nexport default {\n  name: 'MonarchAssociations',\n  props: {\n    curie: {\n      type: String,\n      required: true\n    },\n    category: {\n      type: String,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      fields: ['Association Type', 'Count'],\n      items: [],\n      geneData: '',\n      genotypeData: '',\n      variantData: '',\n      diseaseData: '',\n      literatureData: '',\n      phenotypeData: '',\n      dataPacket: ''\n    };\n  },\n  computed: {\n    monarchUrl: function monarchUrl() {\n      return \"https://monarchinitiative.org/\".concat(this.category, \"/\").concat(this.curie);\n    },\n    hippoUrl: function hippoUrl() {\n      return \"http://hippo.monarchinitiative.org/#/query/\".concat(this.curie);\n    }\n  },\n  mounted: function mounted() {\n    this.fetchData(this.curie, this.category);\n    this.fetchAssociations(this.category, this.curie, 'gene');\n    this.fetchAssociations(this.category, this.curie, 'genotype');\n    this.fetchAssociations(this.category, this.curie, 'literature');\n    this.fetchAssociations(this.category, this.curie, 'variant');\n\n    if (this.category !== 'phenotype') {\n      this.fetchAssociations(this.category, this.curie, 'phenotype');\n    }\n\n    if (this.category !== 'disease') {\n      this.fetchAssociations(this.category, this.curie, 'disease');\n    }\n  },\n  watch: {\n    curie: function curie() {\n      this.fetchData(this.curie, this.category);\n      this.fetchAssociations(this.category, this.curie, 'gene');\n      this.fetchAssociations(this.category, this.curie, 'genotype');\n      this.fetchAssociations(this.category, this.curie, 'literature');\n      this.fetchAssociations(this.category, this.curie, 'variant');\n\n      if (this.category !== 'phenotype') {\n        this.fetchAssociations(this.category, this.curie, 'phenotype');\n      }\n\n      if (this.category !== 'disease') {\n        this.fetchAssociations(this.category, this.curie, 'disease');\n      }\n    }\n  },\n  methods: {\n    fetchData: function () {\n      var _fetchData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(nodeID, nodeType) {\n        var searchResponse;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return BL.getNodeSummary(nodeID, nodeType);\n\n              case 3:\n                searchResponse = _context.sent;\n                this.dataPacket = searchResponse;\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.log('nodeResponse ERROR', _context.t0, this);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 7]]);\n      }));\n\n      return function fetchData(_x, _x2) {\n        return _fetchData.apply(this, arguments);\n      };\n    }(),\n    fetchAssociations: function () {\n      var _fetchAssociations = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(nodeType, nodeID, cardType) {\n        var searchResponse;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return BL.getNodeAssociations(nodeType, nodeID, cardType, {\n                  'rows': 5000\n                });\n\n              case 3:\n                searchResponse = _context2.sent;\n\n                if (cardType === 'gene') {\n                  this.geneData = searchResponse;\n                }\n\n                if (cardType === 'disease') {\n                  this.diseaseData = searchResponse;\n                }\n\n                if (cardType === 'genotype') {\n                  this.genotypeData = searchResponse;\n                }\n\n                if (cardType === 'literature') {\n                  this.literatureData = searchResponse;\n                }\n\n                if (cardType === 'variant') {\n                  this.variantData = searchResponse;\n                }\n\n                _context2.next = 14;\n                break;\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log('nodeResponse ERROR', _context2.t0, this);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 11]]);\n      }));\n\n      return function fetchAssociations(_x3, _x4, _x5) {\n        return _fetchAssociations.apply(this, arguments);\n      };\n    }(),\n    monarchUrlAnchored: function monarchUrlAnchored(cardType) {\n      return \"https://monarchinitiative.org/\".concat(this.category, \"/\").concat(this.curie, \"#\").concat(cardType);\n    }\n  }\n};",{"version":3,"sources":["MonarchAssociations.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"card\">\n    <div class=\"card-header\">Monarch Data\n    </div>\n    <div class=\"card-body\">\n      <div class=\"p-2\"><strong>Preferred Label:</strong><br/>\n        <a v-bind:href=\"monarchUrl\"><h2>{{dataPacket.label}}</h2></a>\n      </div>\n      <div class=\"p-2\"><strong>Identifier:</strong><br/>{{dataPacket.id}}</div>\n      <div class=\"p-2\"><strong>Description:</strong><br/>{{dataPacket.description}}</div>\n      <div class=\"p-2\"><strong>Synonyms:</strong><br/>\n        <h5> <span class=\"badge badge-primary badge-info badge-large mx-1\"\n                   v-for=\"syn in dataPacket.synonyms\">\n          {{syn.val}}</span></h5>\n      </div>\n\n      <div class=\"p-2\">\n        <table style=\"width:100%\">\n        <col width=\"35%\">\n        <col width=\"65%\">\n        <tr>\n          <th>Associations</th>\n          <th>Count</th>\n        </tr>\n        <tr v-if=\"geneData\">\n          <td>Genes</td>\n          <td\n              class=\"p-2\"\n          >\n            <a v-bind:href=\"monarchUrlAnchored('genes')\">\n              {{geneData.data.associations.length}}\n            </a>\n          </td>\n        </tr>\n        <tr v-if=\"diseaseData\">\n          <td>Diseases</td>\n          <td\n              class=\"p-2\"\n          >\n            <a v-bind:href=\"monarchUrlAnchored('diseases')\">\n              {{diseaseData.data.associations.length}}\n            </a>\n          </td>\n        </tr>\n        <tr v-if=\"variantData\">\n          <td>Variants</td>\n          <td\n              class=\"p-2\"\n          >\n            <a v-bind:href=\"monarchUrlAnchored('variants')\">\n              {{variantData.data.associations.length}}\n            </a>\n          </td>\n        </tr>\n        <tr v-if=\"genotypeData\">\n          <td>Genotypes</td>\n          <td\n              class=\"p-2\"\n          >\n            <a v-bind:href=\"monarchUrlAnchored('genotypes')\">\n              {{genotypeData.data.associations.length}}\n            </a>\n          </td>\n        </tr>\n        <tr v-if=\"phenotypeData\">\n          <td>Phenotypes</td>\n          <td\n              class=\"p-2\"\n          >\n            <a v-bind:href=\"monarchUrlAnchored('phenotypes')\">\n              {{phenotypeData.data.associations.length}}\n            </a>\n          </td>\n        </tr>\n        <tr v-if=\"literatureData\">\n          <td>Literature <a class=\"btn btn-outline-info btn-sm mx-2\" :href=\"hippoUrl\">HIPPO</a></td>\n          <td\n            class=\"p-2\">\n          <a v-bind:href=\"monarchUrlAnchored('literature')\">\n            {{literatureData.data.associations.length}}\n          </a>\n        </td></tr>\n        <tr></tr>\n      </table></div>\n    </div>\n  </div>\n</template>\n<script>\n  import * as BL from '@/api/BioLink';\n\n  export default {\n    name: 'MonarchAssociations',\n    props: {\n      curie: {\n        type: String,\n        required: true,\n      },\n      category: {\n        type: String,\n        required: true,\n      }\n    },\n    data() {\n      return {\n        fields: ['Association Type', 'Count'],\n        items: [],\n        geneData: '',\n        genotypeData: '',\n        variantData: '',\n        diseaseData: '',\n        literatureData: '',\n        phenotypeData: '',\n        dataPacket: '',\n      };\n    },\n    computed: {\n      monarchUrl() {\n        return `https://monarchinitiative.org/${this.category}/${this.curie}`;\n      },\n      hippoUrl() {\n        return `http://hippo.monarchinitiative.org/#/query/${this.curie}`;\n      },\n    },\n    mounted(){\n      this.fetchData(this.curie, this.category);\n      this.fetchAssociations(this.category, this.curie, 'gene');\n      this.fetchAssociations(this.category, this.curie, 'genotype');\n      this.fetchAssociations(this.category, this.curie, 'literature');\n      this.fetchAssociations(this.category, this.curie, 'variant');\n      if (this.category !== 'phenotype') {\n        this.fetchAssociations(this.category, this.curie, 'phenotype');\n      }\n      if (this.category !== 'disease') {\n        this.fetchAssociations(this.category, this.curie, 'disease');\n      }\n    },\n    watch: {\n      curie: function () {\n        this.fetchData(this.curie, this.category);\n        this.fetchAssociations(this.category, this.curie, 'gene');\n        this.fetchAssociations(this.category, this.curie, 'genotype');\n        this.fetchAssociations(this.category, this.curie, 'literature');\n        this.fetchAssociations(this.category, this.curie, 'variant');\n        if (this.category !== 'phenotype') {\n          this.fetchAssociations(this.category, this.curie, 'phenotype');\n        }\n        if (this.category !== 'disease') {\n          this.fetchAssociations(this.category, this.curie, 'disease');\n        }\n      }\n    },\n    methods: {\n      async fetchData(nodeID, nodeType) {\n        try {\n          const searchResponse = await BL.getNodeSummary(nodeID, nodeType);\n          this.dataPacket = searchResponse;\n        }\n        catch (e) {\n          console.log('nodeResponse ERROR', e, this);\n        }\n      },\n      async fetchAssociations(nodeType, nodeID, cardType) {\n        try {\n          const searchResponse = await BL.getNodeAssociations(nodeType, nodeID, cardType, {'rows': 5000});\n          if (cardType === 'gene') {\n            this.geneData = searchResponse;\n          }\n          if (cardType === 'disease') {\n            this.diseaseData = searchResponse;\n          }\n          if (cardType === 'genotype') {\n            this.genotypeData = searchResponse;\n          }\n          if (cardType === 'literature') {\n            this.literatureData = searchResponse;\n          }\n          if (cardType === 'variant') {\n            this.variantData = searchResponse;\n          }\n        }\n        catch (e) {\n          console.log('nodeResponse ERROR', e, this);\n        }\n      },\n      monarchUrlAnchored(cardType) {\n        return `https://monarchinitiative.org/${this.category}/${this.curie}#${cardType}`;\n      },\n    },\n  };\n</script>\n<style></style>\n"],"sourceRoot":"src/components"}]}